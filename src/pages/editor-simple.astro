---
// Simple editor page without getCollection to test basic functionality
const editSlug = Astro.url.searchParams.get('edit');
console.log('Simple editor - editSlug:', editSlug);
---

<html>
<head>
  <title>Simple Editor Test</title>
</head>
<body>
  <h1>Simple Editor Test</h1>
  <p>Edit slug: <span id="edit-slug-display"></span></p>
  
  {editSlug && (
    <script is:inline define:vars={{ editSlug }}>
      console.log('Setting test editPostData for slug:', editSlug);
      window.editPostData = {
        slug: editSlug,
        data: {
          title: 'Test Title',
          summary: 'Test Summary',
          tags: ['test', 'debug']
        },
        body: 'Test content'
      };
    </script>
  )}
  
  <script is:inline>
    console.log('Simple editor script running');
    const urlParams = new URLSearchParams(window.location.search);
    const editSlug = urlParams.get('edit');
    console.log('Client-side editSlug:', editSlug);
    document.getElementById('edit-slug-display').textContent = editSlug || 'none';
    
    console.log('editPostData available:', !!window.editPostData);
    if (window.editPostData) {
      console.log('editPostData:', window.editPostData);
    }
  </script>
</body>
</html>